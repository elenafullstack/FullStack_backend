(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{39:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(16),a=n.n(c),o=n(3),s=n(2),i=n(4),r=n.n(i),u="/api/persons",l={getPersons:function(){return r.a.get(u)},updatePersons:function(e){return r.a.post(u,e)},deletePerson:function(e){return r.a.delete("".concat(u,"/").concat(e.id))},updatePerson:function(e,t){return r.a.put("".concat(u,"/").concat(e.id),t).then((function(e){return e.data}))}},d=(n(39),n(0)),j=function(e){return null!==e.message&&""!==e.message?Object(d.jsx)("div",{className:"baderror",children:Object(d.jsx)("p",{children:e.message})}):Object(d.jsx)("div",{className:"nothing",children:Object(d.jsx)("p",{children:e.message})})},h=function(e){return null!==e.message&&""!==e.message?Object(d.jsx)("div",{className:"error",children:Object(d.jsx)("p",{children:e.message})}):Object(d.jsx)("div",{className:"nothing",children:Object(d.jsx)("p",{children:e.message})})},b=function(e){return 0==e.array.length?Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:"No numbers"})}):Object(d.jsx)(d.Fragment,{})},f=function(e){return Object(d.jsxs)("div",{children:[" ",Object(d.jsxs)("p",{children:[" ",e.person.name," \xa0\xa0\xa0",e.person.number]})," ",Object(d.jsx)("button",{onClick:function(){return e.function(e.person)},children:" Delete "})," "]})},m=function(e){return Object(d.jsxs)("form",{children:[Object(d.jsx)("h2",{children:"Filter shown with:"})," ",Object(d.jsx)("input",{type:"text",value:e.value,onChange:e.onChange,placeholder:"Type filter..."})]})},O=function(e){var t=!0;return console.log(e.value),console.log(e.value2),""!==e.value&&""!==e.value2&&(t=!1),console.log(t),Object(d.jsxs)("form",{onSubmit:e.addFunction,children:[Object(d.jsx)("h2",{children:"Add a new contact"}),Object(d.jsxs)("div",{children:[" ",Object(d.jsx)("span",{children:"Name:"})," ",Object(d.jsx)("input",{type:"text",value:e.value,onChange:e.onChange,placeholder:"Type name..."})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{children:"Number:"}),Object(d.jsx)("input",{type:"tel",value:e.value2,onChange:e.onChange2,placeholder:"Type number..."}),"  "]}),Object(d.jsx)("button",{type:"submit",disabled:t,id:"btn",children:"Add contact"})]})},p=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1];Object(s.useEffect)((function(){l.getPersons().then((function(e){c(e.data)}))}),[]);var a=Object(s.useState)(""),i=Object(o.a)(a,2),r=i[0],u=i[1],p=Object(s.useState)(""),x=Object(o.a)(p,2),v=x[0],g=x[1],y=Object(s.useState)(""),w=Object(o.a)(y,2),T=w[0],C=w[1],k=Object(s.useState)(""),N=Object(o.a)(k,2),P=N[0],S=N[1],E=Object(s.useState)(""),F=Object(o.a)(E,2),I=F[0],D=F[1],A=Object(s.useState)(""),B=Object(o.a)(A,2),J=B[0],L=B[1],H=Object(s.useState)(""),K=Object(o.a)(H,2),R=K[0],q=K[1],z=n,G=function(e){if(window.confirm("Delete ".concat(e.name,"?"))){l.deletePerson(e).then((function(e){return e.data}));var t=n.filter((function(t){return t.id!==e.id}));c(t),console.log(n),D(clearTimeout(I)),S("".concat(e.name," is deleted from the phonebook!")),D(setTimeout((function(){S(null)}),5e3))}};return z=""!==T?n.filter((function(e){return e.name.toLowerCase().includes(T.toLowerCase())})):n,Object(d.jsxs)("body",{children:[Object(d.jsx)("h2",{class:"title",children:"PHONEBOOK"}),Object(d.jsx)("h3",{class:"titletext",children:"In this application you can add, update and delete contacts for phonebook. The phone number must be at least 8 characters long and the name must have at least 3 letters. If you want to update the number of a contact, it is done by adding the contact again to the phonebook with a different number. This makes the application to ask you if you wish to update the contact"}),Object(d.jsxs)("div",{class:"container1",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)(m,{value:T,onChange:function(e){C(e.target.value)}})}),Object(d.jsx)(O,{addFunction:function(e){e.preventDefault();var t={name:r,number:v},a=n.filter((function(e){return e.name===r}));if(1===a.length){var o=a[0];window.confirm("".concat(r," is already added to phonebook, replace the old number with a new one?"))&&l.updatePerson(o,t).then((function(e){null!==e?c(n.map((function(t){return t.id!==o.id?t:e}))):new h(e),D(clearTimeout(I)),S("".concat(r,"'s number is updated")),D(setTimeout((function(){S(null)}),5e3))})).catch((function(e){if(void 0!==e.response)L(clearTimeout(J)),q("".concat(e.response.data)),L(setTimeout((function(){q(null)}),5e3));else{var a=n.filter((function(e){return e.id!==o.id}));c(a),console.log(a),console.log(n),L(clearTimeout(J)),q("Information of ".concat(t.name," has already been removed from the server")),L(setTimeout((function(){q(null)}),5e3))}}))}else l.updatePersons(t).then((function(e){c(n.concat(e.data)),u(""),g(""),D(clearTimeout(I)),S("".concat(r," is added to the phonebook!")),D(setTimeout((function(){S(null)}),5e3))})).catch((function(e){D(clearTimeout(I)),q("".concat(e.response.data)),L(setTimeout((function(){q(null)}),5e3))}))},value:r,onChange:function(e){u(e.target.value)},value2:v,onChange2:function(e){g(e.target.value)}}),Object(d.jsx)(h,{message:P})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Numbers"}),Object(d.jsx)("div",{class:"numbers",children:Object(d.jsxs)("div",{children:[Object(d.jsx)(b,{array:z}),z.map((function(e){return Object(d.jsx)(f,{person:e,function:G},e.name)}))]})}),Object(d.jsx)(j,{message:R})]})]}),Object(d.jsx)("footer",{children:Object(d.jsx)("h3",{children:" \xa9 Elena Rima 2023"})})]})};n(41);a.a.render(Object(d.jsx)(p,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.33e17d4f.chunk.js.map